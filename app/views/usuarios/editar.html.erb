


<div class="row">   
   <div class="col-lg-12">
   <div class="ibox float-e-margins">
              <div class="ibox-title">
                  <h2 class="parametros-titulo"><%= "Usuarios" %></h2>
              </div>
          </div>
          <div class="ibox-content">
             <%= form_for @usuario,  :url => '/usuarios/modificar', method: "post",:html => {:class => 'form-horizontal'} do |f| %>
                  <% if @usuario.errors.any? %>
                    <div id="error_explanation">
                      <h2><%= pluralize(@usuario.errors.count, "error") %> prohibited this parametro from being saved:</h2>

                      <ul>
                      <% @usuario.errors.full_messages.each do |message| %>
                        <li><%= message %></li>
                      <% end %>
                      </ul>
                    </div>
                  <% end %>

                 <div class="m-t" >
                   <div class="row">
                      <div class="col-md-6">
                        <%= hidden_field_tag :usuario_id, @usuario.id %>
        
                        <%= fields_for @persona do |u| %>
                            <div class="form-group row"><label class="col-lg-2 control-label">Cédula</label>

                                <div class="col-lg-10"><%= u.text_field :cedula,:required =>true, :class => "form-control", :readonly => true %>
                                 </div>
                              </div>
                             <div class="form-group row"><label class="col-lg-2 control-label">Nombre</label>

                                <div class="col-lg-10"><%= u.text_field :nombre,:required =>true, :class => "form-control" %>
                                </div>
                            </div>
                            <div class="form-group row"><label class="col-lg-2 control-label">Apellido</label>
                                <div class="col-lg-10"><%= u.text_field :apellido,:required =>true, :class => "form-control" %>
                                </div>
                            </div>

                             <div class="form-group row"><label class="col-lg-2 control-label">Teléfono</label>
                                <div class="col-lg-10"><%= u.text_field :telefono, :required => true, :input_html => { :maxlength => 14 }, :data => { "mask" => "999-999-9999"  }, :class => "form-control" %>
                                </div>
                            </div>

                             <div class="form-group row"><label class="col-lg-2 control-label">Dirección</label>
                                <div class="col-lg-10"><%= u.text_field :direccion, :class => "form-control" %>
                                </div>
                            </div>

                            <div class="form-group row fecha-n-persona">
                              <label class="col-lg-2 control-label">Fecha de Nacimiento</label>
                              <div class="input-group date col-lg-10">
                                  <span class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                  </span>
                                <%= u.datetime_select :fecha_nacimiento,:required =>true, :class => "form-control", "data-provide" => "date-picker" %>
                              </div>
                            </div>

                            <div class="field form-group row">
                              <label class="col-lg-2 control-label">Sexo</label>
                              <div class="col-lg-10"><%= u.collection_select(:sexo_id, @sexos, :id, :descripcion,{}, :class => "form-control" )%></div>
                            </div>
                  <% end %>
                      </div>
                     <div class="col-md-6">
                          <div class="row form-group">
                            <label class="col-lg-2 control-label">Correo</label>

                              <div class="col-lg-10">  <%= f.email_field :email, autofocus: true, placeholder: "usuario@correo.com", class: "form-control", :readonly => true %>
                              </div>
                            </div>           
                         <br><br><br> 
            
                          <div class="row form-group">
                              <label class="col-lg-2">Rol</label>
                              <div class="col-lg-10"><%= f.collection_select(:rol_id, @roles, :id, :descripcion,{}, :class => "form-control" )%></div>
                          </div>

                          <div class="row form-group">
                              <label class="col-lg-2">Servicio asociado</label>
                              <div class="col-lg-10"><%= f.collection_select(:servicio_id, @servicios, :id, :descripcion,{:prompt => "Sin servicio asociado"}, {:class => "form-control"} )%></div>
                          </div>
                      </div>
                   </div>
                  
                   <div class="row">
                    <div class="form-group">
                     <br>
                          <div class="col-lg-offset-3 col-lg-2">
                               <%= f.submit "Guardar", :class => "btn btn-sm  btn-primary" %>
                          </div>
                            <div class="col-lg-2">
                            <%= link_to 'Limpiar', '', type: :reset, :class => "btn btn-sm btn-warning " %>                          
                            </div>
                          <div class="col-lg-2">
                          <%= link_to 'Atras',usuarios_path, :class => "btn btn-sm btn-success" %>                          
                          </div>
                      </div>
                    </div>
                  </div>
              
                  
                 

              <% end %>
  </div>
</div>
</div>
